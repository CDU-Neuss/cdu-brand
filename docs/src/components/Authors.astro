---
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
import IconCircle from "./IconCircle.astro";

interface Props {
  authors: {
    name: string;
    image?: string;
    link: string;
  }[];
}

const { authors = [] } = Astro.props;
---

<ul class="authors">
  {
    Array.isArray(authors) && authors.length > 0 ? (
      authors.map((author) => (
        <li>
          <a href={author.link}>
            {author.image ? (
              <figure>
                <Image src={author.image} alt={author.name} width="80" height="80" />
              </figure>
            ) : (
              <IconCircle>
                <Icon name="ph:user-bold" />
              </IconCircle>
            )}
            <span>{author.name}</span>
          </a>
        </li>
      ))
    ) : (
      <li>No authors available</li>
    )
  }
</ul>

<style>
  @import "../styles/global.css";
  @import "../../../resources/css/components/authors.css";
</style>
